2021-06-26 (выгрузка патча, загрузка ролей)

![image](https://user-images.githubusercontent.com/5235515/123516110-242eeb00-d6a3-11eb-892c-8f4464981135.png)

модуль "Загрузка метаданных"

Процедура ВыгрузитьРасширения(Параметры,СтрокаРасширения) - возможность выгрузки расширений

//каталог выгрузки из справочника "МестоИзменения", он указан в табчасти справочника Проекты

СтрокаКоманды = СтрЗаменить(СтрокаКоманды,"%КаталогВыгрузкиКонфигурации%", СтрокаРасширения.МестоИзменения.ПутьККаталогу);
СтрокаКоманды = СтрЗаменить(СтрокаКоманды,"%ИмяРасширения%",СтрокаРасширения.ИмяРасширения);

ДВС_ВыполнитьВыгрузкуКонфигурацииВXML

//доработана выгрузка патча, а также выгрузка расширений (без отслежки)

КаталогВыгрузкиБазовый = Параметры.КаталогВыгрузкиКонфигурации;
ФайлДляОтслежки = КаталогВыгрузкиБазовый+"\ConfigDumpInfo.xml";

```
	Если не параметры.проект.ПерваяВыгрузка_ДВС тогда
	СтрокаКоманды = Строкакоманды +" -update -configDumpInfoForChanges ""%ФайлДляОтслежки%""";
	//-getChanges ""%ФайлИзмененийКонфигурации%""";
	КаталогВыгрузки = СокрЛП(параметры.проект.ПутьВыгрузкиПатча);
	Иначе
	КаталогВыгрузки = КаталогВыгрузкиБазовый;
	КонецЕсли;
```

//getchanges -не работает одновременно с -update  и -configDumpInfoForChanges

//путь выгрузки патча реквизит в справочнике "Проекты" 

- ПутьВыгрузкиПатча

Параметры.СтрокаСоединенияИБДляЗагрузкиМетаданных -каталог базы

&ИзменениеИКонтроль("ОбработатьПраваРолейПослеЗаписи")
Процедура ДВС_ОбработатьПраваРолейПослеЗаписи(Параметры, ОбъектМетаданных)

Загрузка изменений прав доступа.
![image](https://user-images.githubusercontent.com/5235515/123516117-2ee98000-d6a3-11eb-8045-f98bff14784e.png)


справочник "Проекты", новые реквизиты и табличная часть
